(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{399:(e,t,s)=>{"use strict";s.d(t,{OP:()=>n,ZL:()=>l,h0:()=>a});let r="hachi_quiz_ranking",l=()=>{let e=localStorage.getItem(r);return e?JSON.parse(e):[]},n=e=>{let t=l();t.push(e),t.sort((e,t)=>t.score!==e.score?t.score-e.score:e.time-t.time);let s=t.slice(0,10);localStorage.setItem(r,JSON.stringify(s))},a=(e,t)=>{let s=l();if(s.length<10)return!0;let r=s[s.length-1].score;return!!(e>r)||e===r&&!!(t<s[s.length-1].time)}},1718:(e,t,s)=>{Promise.resolve().then(s.bind(s,5867))},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},5867:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(5155),l=s(2115),n=s(5695);let a=e=>100===e?{title:"\uD83E\uDDB7 歯の神",comment:"パーフェクト！あなたの知識は歯医者レベルです！"}:e>=80?{title:"\uD83D\uDE0E 歯科エリート",comment:"素晴らしい！あと少しで完璧！この調子で続けましょう。"}:e>=60?{title:"\uD83E\uDDD0 歯科ビギナー",comment:"いい線いってます！少しずつ知識を深めていきましょう。"}:{title:"\uD83D\uDE05 歯磨き戦士",comment:"まだまだこれから。毎日の歯磨きとともに学びも続けよう！"},i=e=>{let{score:t,time:s}=e,l=a(t);return(0,r.jsxs)("div",{className:"text-center p-6 bg-white rounded-xl shadow-lg",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold mb-2",children:l.title}),(0,r.jsx)("p",{className:"text-xl mb-4",children:l.comment}),(0,r.jsxs)("div",{className:"text-gray-600",children:[(0,r.jsxs)("p",{children:["スコア: ",t,"点"]}),(0,r.jsxs)("p",{children:["回答時間: ",s,"秒"]})]})]})},c=e=>{let{isOpen:t,onClose:s,onSubmit:n}=e,[a,i]=(0,l.useState)("");return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:"おめでとうございます！"}),(0,r.jsx)("p",{className:"text-center mb-4",children:"ランキングに登録する名前を入力してください"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&(n(a.trim()),i(""))},children:[(0,r.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),placeholder:"あなたの名前",className:"w-full px-4 py-2 border rounded-lg mb-4",maxLength:20,required:!0}),(0,r.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,r.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"キャンセル"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"登録"})]})]})]})}):null};var o=s(399);function u(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),[s,a]=(0,l.useState)(!1),u=Number(t.get("score"))||0,m=Number(t.get("time"))||0;return(0,l.useEffect)(()=>{(0,o.h0)(u,m)&&a(!0)},[u,m]),(0,r.jsxs)("main",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col items-center justify-center p-4",children:[(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsx)(i,{score:u,time:m}),(0,r.jsxs)("div",{className:"mt-8 flex flex-col gap-4",children:[(0,r.jsx)("button",{onClick:()=>e.push("/quiz"),className:"w-full px-6 py-3 bg-blue-500 text-white rounded-lg font-bold hover:bg-blue-600 transition-colors",children:"もう一度挑戦"}),(0,r.jsx)("button",{onClick:()=>e.push("/ranking"),className:"w-full px-6 py-3 bg-gray-500 text-white rounded-lg font-bold hover:bg-gray-600 transition-colors",children:"ランキングを見る"})]})]}),(0,r.jsx)(c,{isOpen:s,onClose:()=>{a(!1),e.push("/ranking")},onSubmit:t=>{(0,o.OP)({name:t,score:u,time:m,date:new Date().toLocaleDateString("ja-JP")}),a(!1),e.push("/ranking")}})]})}function m(){return(0,r.jsx)(l.Suspense,{children:(0,r.jsx)(u,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(1718)),_N_E=e.O()}]);